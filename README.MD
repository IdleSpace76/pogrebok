# Pogrebok <br/>

Telegram –±–æ—Ç –Ω–∞ Spring Boot –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.
_________________

## –°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é:
- Java 21
- Apache Maven
- Spring Boot 3.5.5
- Telegram Bots Long Polling –∏ Telegram Bots Client v. 9.0.0
- Apache Kafka
- Docker
- Postgres
- Liquibase

## –ü–ª–∞–Ω:
- [x] –°–æ–∑–¥–∞—Ç—å dispatcher
- [x] –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
- [x] –°–æ–∑–¥–∞—Ç—å Node-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- [x] –°–æ–∑–¥–∞—Ç—å REST API –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- [x] –°–æ–∑–¥–∞—Ç—å mail-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- [x] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ—Å–µ–ª–∏—Ç—å –≤—Å–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- [ ] –û—Ñ–æ—Ä–º–∏—Ç—å README (–æ–ø–∏—Å–∞–Ω–∏–µ + —Å—Ö–µ–º–∞)

> docker-compose up -d <br/>
> docker-compose down -v <br/>
> docker ps
> 
> docker exec -it postgres_db psql -U myuser -d mydatabase
> 
> kafka-topics.sh --bootstrap-server localhost:9092 --delete --topic bot-messages <br/>
> kafka-topics.sh --bootstrap-server localhost:9092 --list
> 
UI –¥–ª—è –∫–∞—Ñ–∫–∏ (Kafdrop): http://localhost:9000

> [!TIP]
> –ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ª—É—á—à–µ, –Ω–æ –Ω–µ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ, —Ç.–∫. –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ mvp –ø—Ä–æ–µ–∫—Ç–∞:
> 1) –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ –∏–∑ –¢–ì –Ω–µ –∑–∞–±–∏–≤–∞—Ç—å –∏–º –ø–∞–º—è—Ç—å, –∞ —Å—Ç—Ä–∏–º–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ –±–¥
> 2) UUID –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π, —á—Ç–æ–±—ã –≥–æ—Ç–æ–≤—ã–µ –∞–¥—Ä–µ—Å–∞ —Ç–æ—á–Ω–æ –±—ã–ª–∏ —Ä–∞–∑–Ω—ã–º–∏
> 3) –í—ã–Ω–µ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
> 4) –¢–µ—Å—Ç—ã
> 5) –•—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–π—Ç–æ–≤ –Ω–µ –≤ –±–¥

### üìä –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (JMeter 5.6.3)
–ë—ã–ª –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –±–∞–∑–æ–≤—ã–π –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç —Å –ø–æ–º–æ—â—å—é **JMeter 5.6.3**.

–°–µ—Ä–≤–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É ~2 000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É —Å 
–Ω—É–ª–µ–≤–æ–π –¥–æ–ª–µ–π –æ—à–∏–±–æ–∫, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–µ–º–ª–µ–º—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–º –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

- –°—Ü–µ–Ω–∞—Ä–∏–π: `GET /file/image?id={hashId}`
- 10 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, ramp-up 5 —Å–µ–∫, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 30 —Å–µ–∫
- –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 63 770 ‚Ä¢ –û—à–∏–±–æ–∫: **0%**
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: **~4 ms** ‚Ä¢ Max: 96 ms
- –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: **~2 100 req/sec**

–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–Ω: `docs/jmeter/file-image-load.jmx`.
